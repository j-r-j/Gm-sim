# Maestro E2E Test: Roster Management
# Tests depth chart, roster moves, and player management
#
# To run: maestro test .maestro/flows/roster-management-flow.yaml

appId: com.nflgmsim.app

---
# Test: Roster Management Flow

- launchApp
- tapOn: "Continue Game"

# === NAVIGATE TO ROSTER ===
- tapOn: "Roster"
- assertVisible: "Active Roster"

# === VIEW DEPTH CHART ===
- tapOn: "Depth Chart"
- assertVisible: "Offense"
- assertVisible: "Defense"
- assertVisible: "Special Teams"

# Select offense tab
- tapOn: "Offense"
- assertVisible: "QB"
- assertVisible: "RB"
- assertVisible: "WR"

# === REORDER DEPTH CHART ===
- tapOn: "QB"
- assertVisible: "QB1"
- assertVisible: "QB2"

# Long press to reorder (if available)
- longPressOn: "QB2"
- assertVisible: "Move Up"
- tapOn: "Move Up"

# Verify reorder
- assertVisible: "Depth Chart Updated"

# === VIEW PLAYER DETAILS ===
- tapOn:
    index: 0
    below: "Active Roster"

# Check player card
- assertVisible: "Overall"
- assertVisible: "Age"
- assertVisible: "Contract"
- assertVisible: "Stats"

# === ROSTER MOVES ===
- tapOn: "Actions"
- assertVisible:
    anyOf:
      - "Cut Player"
      - "Move to IR"
      - "Move to Practice Squad"

# Go back without making changes
- tapOn: "Cancel"

# === VIEW PRACTICE SQUAD ===
- back
- tapOn: "Practice Squad"
- assertVisible:
    anyOf:
      - "Practice Squad"
      - "No players"

# === VIEW INJURED RESERVE ===
- tapOn: "IR"
- assertVisible:
    anyOf:
      - "Injured Reserve"
      - "No players"
